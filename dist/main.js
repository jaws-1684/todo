(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var s={},i=[],c=0;c<t.length;c++){var a=t[c],d=o.base?a[0]+o.base:a[0],l=s[d]||0,p="".concat(d," ").concat(l);s[d]=l+1;var h=n(p),u={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==h)e[h].references++,e[h].updater(u);else{var m=r(u,o);o.byIndex=c,e.splice(c,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var s=o(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<s.length;i++){var c=n(s[i]);e[c].references--}for(var a=o(t,r),d=0;d<s.length;d++){var l=n(s[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=a}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,o,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(o)for(var c=0;c<this.length;c++){var a=this[c][0];null!=a&&(i[a]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);o&&i[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},365:(t,e,n)=>{n.d(e,{A:()=>c});var o=n(601),r=n.n(o),s=n(314),i=n.n(s)()(r());i.push([t.id,"/*\n  Josh's Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*, *::before, *::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg, picture, video, canvas, svg {\n  display: block;\n  max-width: 100%;\n}\n\ninput, button, textarea, select {\n  font: inherit;\n}\n\np, h1, h2, h3, h4, h5, h6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\nh1, h2, h3, h4, h5, h6 {\n  text-wrap: balance;\n}\n\n#root, #__next {\n  isolation: isolate;\n}\n\nbody {\n    color: white;\n    font-family: Arial, sans-serif;\n    margin: 0;\n    min-height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\nh1 {\n    font-size: 2.5rem;\n    text-align: center;\n    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);\n}\n.edit, .trash-bin {\n    display: relative;\n    width: 20px;\n    height: 20px;\n}\n.logo {\n    width: 90%;\n    max-height: 2vh%;\n    font-size: 50px;\n    color: pink;\n    font-weight: bold;\n    margin-bottom: 20px;\n}\nimg {\n    background-size: cover;\n}\nmain {\n    display: flex;\n    color: #f5f5f5;\n}\nbutton {\n    display: flex;\n    gap: 10px;\n    max-width: content;\n    padding: 6px;\n    text-align: start;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    background-color: inherit;\n}\nbutton:hover {\n    background-color: #ebebeb;\n}\n.todos {\n    width: 75vw;\n    min-height: 100vh;\n    background-image: url(https://static.vecteezy.com/system/resources/previews/001/828/012/original/cute-cat-face-cartoon-animal-funny-character-free-vector.jpg);\n    background-size: 100vh;\n    background-position: center;\n    padding: 4%;\n    color: #717171;\n}\n\nh1 {\n    font-size: 46px;\n}\n.menu {\n    display: flex;\n    flex-direction: column;\n    z-index: 100;\n    width: 25vw;\n    min-height: 100vh;\n    background-color: #f5f5f5;\n    color: #474747;\n    padding: 30px;\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 54px 55px, rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px, rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;\n}\n#add-project, #new-todo {\n    background-color: #51321c;\n    color: white\n}\n#add-project:hover, #new-todo:hover {\n    background-color: sandybrown;\n}\n.menu > * {\n    display: flex;\n    gap: 20px;\n}\n.menu h1 {\n    margin-bottom: 20px;\n    color: #262828\n}\n.menu input {\n    width: 75%;\n    height: 100%;\n    background-color: sandybrown;\n    border: 1px solid #51321c;\n    border-radius: 4px;\n    padding: 4px;\n}\n#add-project {\n    float: right;\n}\n.hidden {\n    display: none;\n}\n\n.project-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 1.25rem;\n    cursor: pointer;\n}\n.project {\n    display: flex;\n    gap: 10px;\n    padding: 6px;\n    flex-grow: 1;\n    border-radius: 4px;\n}\n.project p {\n    order: 2;\n}\n.project:hover {\n    background-color: #ebebeb;\n}\n.project-ico {\n    order: 1;\n}\n\n.projects {\n    margin-top: 20px;\n}\n.project-list {\n    display: flex;\n    flex-direction: column;\n    gap: 0.625rem;\n}\n.todo {\n    display: grid;\n    grid-template-columns: 1fr 2fr 3fr repeat(2, 1fr);\n    grid-template-rows: 2fr;\n    align-items: center;\n    justify-items: center;\n    position: relative;\n    width: 75%;\n    gap: 20px;\n    padding: 5px;\n    border: 1px solid #51321c;\n    border-radius: 4px;\n    margin-top: 10px;\n    background-color: white;;\n}\n\n.todo:hover {\n   background-color: #f5f5f5;\n   cursor: pointer;\n}\n.todo .title {\n    grid-column: 2;\n    justify-self: start;\n    pointer-events: none;\n};\n.todo .duedate {\n    grid-column: 4;\n    pointer-events: none;\n}\n.todo .description {\n    grid-column: 3 / 4;\n    pointer-events: none;\n}\n\n.todo #remove-todo {\n    grid-column: 6 / 7;\n}\n.todo #edit-todo {\n    display: flex;\n    align-self: self-end;\n    justify-self: self-end;\n    grid-row: 1;\n    grid-column: 5 / 6;\n}\n.mark-wrapper {\n    grid-column: 1;\n    width: 30px;\n    height: 30px;\n    padding: 4px;\n    clip-path: rectangle(30%);\n    border: 1px solid black;\n    justify-self: start;\n}\n#mark-complete {\n    clip-path: polygon(3% 46%, 34% 59%, 86% 2%, 50% 63%, 34% 95%);\n    width: 100%;\n    height: 100%;\n}\n\n#mark-complete:hover {\n    background-color: darkgray;\n    cursor: pointer;\n}\n.todo.completed #mark-complete {\n    background-color: black;\n}\n\n.container {\n    display: flex;\n    flex-direction: column;\n    justify-items: start;\n    gap: 5px;\n}\n.task-data {\n    text-align: left;\n    color: #262828;\n    margin-bottom: 2%;\n}\n\nform {\n    display: flex;\n    flex-direction: column;\n    justify-items: center;\n    align-items: start;\n    width: 40%;\n    gap: 10px;\n    color: #555555;\n    font-size: 16px;\n    border-top: 1px solid black;\n    border-bottom: 1px solid black;\n    margin-bottom: 20px;\n    margin-top: 10px;\n    padding-bottom: 10px;\n}\nform div, form input, form textarea{\n   width: 100%;\n}\nform input, textarea, select {\n    height: 30px;\n    border: none;\n    border: 2px solid #51321c;\n    background-color: sandybrown;\n    border-radius: 4px;\n    padding: 2px;\n}\nform div {\n    display: flex;\n    align-items: end;\n    gap: 20px\n}\n#submit, #edit {\n    font-size: 14px;\n    background-color: #f6d83c;\n    align-self: end;\n    text-align: center;\n    width: 10%;\n}\n#submit:hover, #edit:hover {\n    background-color: #EEDC82;\n}\n\n.notes {\n    grid-column: 1 / 7;\n    grid-row: 2;\n    width: 100%;\n    background-color: #ffd43a;\n    padding: 10px;\n    border-radius: 4px\n}\n.notes::before {\n    content: \"Notes: \";\n    color: black;\n    font-weight: bold;\n}\n.notes .hidden {\n    display: none;\n}\n.errors {\n    margin-top: 2px;\n    color: #c73a1e;\n    padding: 4px;\n    border-radius: 4px;\n    background-color: #fef2f2;\n    text-align: center;\n}\n.errors::before {\n    content: 'â“˜ ';\n}\n\nsvg {\n    pointer-events: none;\n}",""]);const c=i},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={id:o,exports:{}};return t[o](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=o[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.nc=void 0;var o=n(72),r=n.n(o),s=n(825),i=n.n(s),c=n(659),a=n.n(c),d=n(56),l=n.n(d),p=n(540),h=n.n(p),u=n(113),m=n.n(u),f=n(365),g={};g.styleTagTransform=m(),g.setAttributes=l(),g.insert=a().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=h(),r()(f.A,g),f.A&&f.A.locals&&f.A.locals;class b{constructor(t,e,n=crypto.randomUUID(),o=!1){this.id=n,this.projectId=e,this.#t(t),this.completed=o,b.all.push(this)}static all=[];static select(t){return b.all.find(e=>e.id===t)}static dependentDestroy(t){b.all=b.all.filter(e=>e.projectId!==t),b.all[0].to_json()}update(t){this.#t(t),this.to_json()}toogle(){this.completed?this.completed=!1:this.completed=!0,this.to_json()}destroy(){const t=b.all.findIndex(t=>t.id===this.id);-1!==t&&(b.all.splice(t,1),this.to_json())}#t(t){for(let e of Object.keys(t))this[e]=t[e]}get day(){return Number(this.duedate.split("-")[2])}get year(){return Number(this.duedate.split("-")[0])}get month(){return Number(this.duedate.split("-")[1])-1}to_json(){if(localStorage){let t=JSON.stringify(b.all);localStorage.setItem("todos",t)}}static from_json(){let t=JSON.parse(localStorage.getItem("todos"));for(let e of t)new b(e,e.projectId,e.id,e.completed)}}Array.prototype.where=function(t={}){const e=Object.keys(t)[0];return this.filter(n=>n[e]===t[e])},localStorage.getItem("projects")&&b.from_json(),0===b.all.length&&new b({title:"Todo app project",description:"finishing the todo app",duedate:"2030-09-16",notes:"not so easy huh?"},"p1","t1",!0).to_json();class v{constructor(t,e=crypto.randomUUID()){this.name=t,this.id=e,v.all.push(this)}get todos(){return b.all.filter(t=>t.projectId===this.id)}static all=[];static select(t){return v.all.find(e=>e.id===t)}destroy(){const t=v.all.findIndex(t=>t.id===this.id);-1!==t&&(v.all.splice(t,1),b.dependentDestroy(this.id),this.to_json())}to_json(){if(localStorage){let t=JSON.stringify(v.all);localStorage.setItem("projects",t)}}static from_json(){let t=JSON.parse(localStorage.getItem("projects"));for(let e of t)new v(e.name,e.id)}}Array.prototype.last=function(){return this[this.length-1]},localStorage.getItem("projects")&&v.from_json(),0===v.all.length&&new v("default","p1").to_json();class x{constructor(t="p1"){this.setProject(t)}new(t){let e=new v(t);return e.to_json(),e}get index(){return v.all}get show(){return this.project}destroy(){if("default"==this.project.name)throw Error("You cannot delete the default project!");this.project.destroy()}setProject(t){this.id=t,this.project=v.select(t)}}class y{constructor(t="p1",e){this.projectId=t,this.setTodo(e)}new(t){let e=new b(t,this.projectId);return e.to_json(),e}get index(){return b.all}get show(){return this.todo}destroy(){this.todo&&this.todo.destroy()}edit(t){this.todo.update(t)}toogle(){this.todo.toogle()}setTodo(t){this.id=t,this.todo=b.select(t)}}class w{static events={};static emit(t,e){this.events[t]&&this.events[t].forEach(function(t){t(e)})}static subscribe(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)}static unsubscribe(t,e){if(this.events[t])for(var n=0;n<this.events[t].length;n++)if(this.events[t][n]===e){this.events[t].splice(n,1);break}}}class j{static build(t,e={},n=""){let o=document.createElement(t);for(const[t,n]of Object.entries(e))o.setAttribute(t,n);if(n||n.length>0){let t=document.createElement("p");t.textContent=n,t.setAttribute("style","pointer-events: none;"),o.append(t)}return o}}const _=(()=>{const t=t=>{const e=document.createElement("svg");return e.innerHTML=t,e};return{todo:e=>{const n=j.build("div",{class:"todo"}),o=j.build("div",{class:"mark-wrapper"}),r=j.build("div",{id:"mark-complete"});o.append(r),n.append(o);for(const[t,o]of Object.entries(e)){if("projectId"===t||"priority"===t)continue;if("completed"===t){o&&n.classList.add("completed");continue}if("id"===t){n.setAttribute("id",o);continue}const e=j.build("div",{class:t},o);"notes"==t&&e.setAttribute("class",`${t} hidden`),n.append(e)}const s=j.build("button",{id:"remove-todo"}),i=t('<svg xmlns="http://www.w3.org/2000/svg" class="trash-bin" viewBox="0 0 24 24"><g fill="red"><path d="M3 6.386c0-.484.345-.877.771-.877h2.665c.529-.016.996-.399 1.176-.965l.03-.1l.115-.391c.07-.24.131-.45.217-.637c.338-.739.964-1.252 1.687-1.383c.184-.033.378-.033.6-.033h3.478c.223 0 .417 0 .6.033c.723.131 1.35.644 1.687 1.383c.086.187.147.396.218.637l.114.391l.03.1c.18.566.74.95 1.27.965h2.57c.427 0 .772.393.772.877s-.345.877-.771.877H3.77c-.425 0-.77-.393-.77-.877Z"/><path fill-rule="evenodd" d="M9.425 11.482c.413-.044.78.273.821.707l.5 5.263c.041.433-.26.82-.671.864c-.412.043-.78-.273-.821-.707l-.5-5.263c-.041-.434.26-.821.671-.864Zm5.15 0c.412.043.713.43.671.864l-.5 5.263c-.04.434-.408.75-.82.707c-.413-.044-.713-.43-.672-.864l.5-5.264c.041-.433.409-.75.82-.707Z" clip-rule="evenodd"/><path d="M11.596 22h.808c2.783 0 4.174 0 5.08-.886c.904-.886.996-2.339 1.181-5.245l.267-4.188c.1-1.577.15-2.366-.303-2.865c-.454-.5-1.22-.5-2.753-.5H8.124c-1.533 0-2.3 0-2.753.5c-.454.5-.404 1.288-.303 2.865l.267 4.188c.185 2.906.277 4.36 1.182 5.245c.905.886 2.296.886 5.079.886Z" opacity=".5"/></g></svg>');s.prepend(i);const c=j.build("button",{id:"edit-todo"}),a=t('<svg xmlns="http://www.w3.org/2000/svg" class="edit" viewBox="0 0 1025 1023" fill="green"><path d="M896.428 1023h-768q-53 0-90.5-37.5T.428 895V127q0-53 37.5-90t90.5-37h576l-128 127h-384q-27 0-45.5 19t-18.5 45v640q0 27 19 45.5t45 18.5h640q27 0 45.5-18.5t18.5-45.5V447l128-128v576q0 53-37.5 90.5t-90.5 37.5zm-576-464l144 144l-208 64zm208 96l-160-159l479-480q17-16 40.5-16t40.5 16l79 80q16 16 16.5 39.5t-16.5 40.5z"/></svg>');return c.prepend(a),n.append(s,c),n},menu:e=>{let n=e.name.includes(" ")?`${e.name.split("").join(".")}`:e.name;const o=j.build("div",{class:`project-container project-${n}`});let r=t('<svg xmlns="http://www.w3.org/2000/svg" class="project-ico" width="20" height="20" viewBox="0 0 16 16"><path fill="#000000" d="M4.75 7a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5ZM5 4.75A.75.75 0 0 1 5.75 4h5.5a.75.75 0 0 1 0 1.5h-5.5A.75.75 0 0 1 5 4.75ZM6.75 10a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5Z"/><path fill="#000000" d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Z"/></svg>');const s=j.build("div",{class:"project",id:e.id},e.name);if(s.append(r),o.append(s),"default"!==e.name){const t=j.build("button",{id:"remove-project",style:"border: 1px solid lightgray; font-size: 12px"},"Delete Project");o.append(t)}return o},img:t=>{let e=document.createElement("img");return e.setAttribute("src",t),e}}})(),k=n.p+"d112ac25c277e12cc283.png";class S{constructor(t){this.projects=t,this.menu=document.querySelector(".menu"),this.logoContainer=document.querySelector(".logo"),this.logoContainer.append(_.img(k)),this.list=document.querySelector(".project-list"),this.input=document.querySelector("input[name='add_project']"),this.form=document.querySelector(".input"),this.taskData=document.querySelector(".task-data"),this.errors=document.querySelector(".menu .errors")}render(){this.list.textContent="",this.projects.forEach(t=>{this.list.appendChild(_.menu(t))})}fillProject(t,e=""){0===e.length?t.name&&(this.taskData.textContent=t.name[0].toUpperCase()+t.name.slice(1,t.name.length)):this.taskData.textContent=e}bind(){this.menu.addEventListener("click",this.#e.bind(this))}#e(t){let e=t.target;if("project"==e.classList[0])return w.emit("app:update_project",e.id),void w.emit("save_last_project",e.id);switch(e.id){case"new-project":this.form.classList.toggle("hidden");break;case"add-project":const t=this.input.value;if(t.length>0){w.emit("project:add",t),this.render(),this.input.value="",this.form.classList.toggle("hidden"),this.classList.add("hidden");break}this.errors.classList.remove("hidden"),this.errors.textContent="Cannot have an project with empty name";break;case"remove-project":const n=e.previousElementSibling.id;let o=prompt("Are you sure? This cannot be undone? yes/no","enter yes or no here");if("yes"===o||"y"===o){w.emit("app:update_project",n),w.emit("project:destroy",n),w.emit("project:last"),this.list.removeChild(e.parentElement);break}break;case"important":w.emit("todos:show_important");break;case"completed":w.emit("todos:show_completed");break;case"today":w.emit("todos:show_today");break;case"upcoming":w.emit("todos:show_upcoming")}}}class C{constructor(t){this.todos=t,this.errorList=[],this.container=document.querySelector(".todos"),this.list=document.querySelector(".todos-list"),this.errors=document.querySelector(".todos .errors"),this.submitBtn=document.getElementById("submit-button")}render(){if(this.list.textContent="",0===this.todos.length){this.list.textContent="";let t=document.createElement("h1");t.textContent="Nothing here yet!",this.list.append(t)}this.todos.length>0&&(this.list.textContent="",this.todos.forEach(t=>{this.list.appendChild(_.todo(t))}))}bind(){this.container.addEventListener("click",this.#e.bind(this))}#e(t){let e=document.getElementById("todo-form");const n=t.target,o=document.getElementById("custId"),r=this.#n(e);if("todo"===n.classList[0]){let t=n.querySelector(".notes");t&&"notes"===t.classList[0]&&"hidden"===t.classList[1]?t.classList.remove("hidden"):t&&t.classList.add("hidden")}switch(n.id){case"new-todo":e.reset(),this.submitBtn.textContent="Add",this.submitBtn.setAttribute("id","submit"),e.classList.toggle("hidden");break;case"submit":t.preventDefault(),this.#o(e,r,"todo:add");break;case"edit":t.preventDefault();const s=o.value;this.#o(e,r,"todo:edit",s);break;case"remove-todo":let i=prompt("Are you sure? This cannot be undone? yes/no","enter yes or no here");if("yes"===i||"y"===i){const t=n.parentElement.id;w.emit("todo:remove",t),this.list.removeChild(n.parentElement);break}break;case"mark-complete":let c=n.parentElement.parentElement,a=c.id;c.classList.contains("completed")?(c.classList.remove("completed"),w.emit("todo:toogle",a)):(w.emit("todo:toogle",a),c.classList.add("completed"));break;case"edit-todo":e.classList.toggle("hidden"),this.submitBtn.textContent="Apply",this.submitBtn.setAttribute("id","edit");const d=this.todos.find(t=>t.id===n.parentElement.id);this.#r(e,d),o.value=n.parentElement.id}}#s(t){this.errorList=[];for(const[e,n]of Object.entries(t))0===n.length&&this.errorList.push(e);return!(this.errorList.length>0)}#n(t){let e={};return Array.from(t.elements).forEach(t=>{""!=t.name&&"custId"!=t.name&&(e[t.name]=t.value)}),e}#r(t,e){Array.from(t.elements).forEach(t=>{t&&(t.value=e[t.name])})}#o(t,e,n,o=""){this.#s(e)?(o?w.emit(n,{id:o,data:e}):w.emit(n,e),t.reset(),t.classList.toggle("hidden"),w.emit("todos:updated"),this.errors.textContent="",this.errors.classList.add("hidden")):(this.errors.classList.remove("hidden"),this.errors.textContent=`You should complete ${this.errorList.join(",")}`)}}Math.pow(10,8);const E=Symbol.for("constructDateFrom");function I(t,e){return"function"==typeof t?t(e):t&&"object"==typeof t&&E in t?t[E](e):t instanceof Date?new t.constructor(e):new Date(e)}function A(t){return I(t,Date.now())}function L(t,...e){const n=I.bind(null,t||e.find(t=>"object"==typeof t));return e.map(n)}function T(t,e){return I(e||t,t)}function D(t,e){const n=T(t,e?.in);return n.setHours(0,0,0,0),n}function P(t,e){return function(t,e,n){const[o,r]=L(n?.in,t,e);return+D(o)===+D(r)}(I(e?.in||t,t),A(e?.in||t))}let q={};function O(){return q}function M(t,e){const n=O(),o=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=T(t,e?.in),s=r.getDay(),i=(s<o?7:0)+s-o;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function z(t,e){return function(t,e,n){const[o,r]=L(n?.in,t,e);return+M(o,n)===+M(r,n)}(I(e?.in||t,t),A(e?.in||t),e)}(new class{constructor(){this.last_project_id=localStorage.getItem("last_project"),null!==this.last_project_id?(this.projects_controller=new x(this.last_project_id),this.todos_controller=new y(this.last_project_id)):(this.projects_controller=new x,this.todos_controller=new y),this.menu=new S(this.projects_controller.index,this.projects_controller.show),this.todos=new C(this.projects_controller.show.todos),this.menu.fillProject(this.projects_controller.show),this.menu.render(),this.todos.render(),this.menu.bind(),this.todos.bind()}init(){w.subscribe("project:add",t=>this.projects_controller.new(t)),w.subscribe("project:destroy",()=>this.projects_controller.destroy()),w.subscribe("app:update_project",t=>this.#i(t)),w.subscribe("project:last",()=>{this.#i(this.projects_controller.index.last().id)}),w.subscribe("todos:updated",()=>this.#c()),w.subscribe("todos:show_important",()=>{this.todos.todos=this.todos_controller.index.where({priority:"high"}),this.todos.render(),this.menu.fillProject("","Important")}),w.subscribe("todos:show_completed",()=>{this.todos.todos=this.todos_controller.index.where({completed:!0}),this.todos.render(),this.menu.fillProject("","Completed")}),w.subscribe("todos:show_today",()=>{this.todos.todos=this.todos_controller.index.filter(t=>P(new Date(t.year,t.month,t.day))>=1),this.todos.render(),this.menu.fillProject("","Today")}),w.subscribe("todos:show_upcoming",()=>{this.todos.todos=this.todos_controller.index.filter(t=>{if(!P(new Date(t.year,t.month,t.day))>=1)return z(new Date(t.year,t.month,t.day))}),this.todos.render(),this.menu.fillProject("","Upcoming")}),w.subscribe("todo:add",t=>this.todos_controller.new(t)),w.subscribe("todo:toogle",t=>{this.todos_controller.setTodo(t),this.todos_controller.toogle()}),w.subscribe("todo:edit",({id:t,data:e})=>{this.todos_controller.setTodo(t),this.todos_controller.edit(e)}),w.subscribe("todo:remove",t=>{this.todos_controller.setTodo(t),this.todos_controller.destroy()}),w.subscribe("save_last_project",t=>{localStorage.setItem("last_project",t)})}#i(t){this.projects_controller.setProject(t),this.menu.currentProject=this.projects_controller.show,this.menu.fillProject(this.projects_controller.show),this.todos_controller.projectId=t,this.todos.todos=this.projects_controller.show.todos,this.todos.render()}#c(){this.todos.todos=this.projects_controller.show.todos,this.todos.render()}}).init()})();